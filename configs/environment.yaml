# Environment-specific configuration overrides for IPBES-Classifier
# These settings override the main config.yaml based on the environment
# Set IPBES_ENV environment variable to select: development, production, or testing

# Development environment (default)
development:
  # Logging
  logging:
    level: INFO
    log_file: logs/ipbes_classifier_dev.log

  # Model settings - faster training for development
  model:
    training:
      num_train_epochs: 5
      per_device_train_batch_size: 8

  # HPO settings - fewer trials for development
  hpo:
    n_trials: 5

# Production environment
production:
  # Paths can be overridden by environment variables
  paths:
    data_dir: ${IPBES_DATA_DIR:-data}
    results_dir: ${IPBES_RESULTS_DIR:-results}
    plots_dir: ${IPBES_PLOTS_DIR:-plots}

  # API settings - more retries for production
  api:
    pyalex:
      max_retries: 3
      retry_backoff_factor: 0.5

  # Model settings - optimized for production
  model:
    training:
      learning_rate: 1e-5
      per_device_train_batch_size: 32
      num_train_epochs: 20
      fp16: true

  # Logging
  logging:
    level: WARNING
    log_file: /var/log/ipbes/ipbes_classifier.log

  # HPO settings
  hpo:
    n_trials: 50

# Testing environment
testing:
  # Paths
  paths:
    data_dir: test_data
    results_dir: test_results
    plots_dir: test_plots
    logs_dir: test_logs

  # Model settings - minimal epochs for testing
  model:
    training:
      learning_rate: 5e-5
      per_device_train_batch_size: 4
      num_train_epochs: 2

  # Data processing - smaller batches for testing
  data_processing:
    batch_size: 50
    num_proc: 2
    cross_validation:
      n_folds: 2
      n_runs: 1

  # Logging
  logging:
    level: DEBUG
    log_file: test_logs/ipbes_classifier_test.log

  # HPO settings - minimal trials for testing
  hpo:
    n_trials: 2
